{% extends 'noticias/base.html' %}

{% block titulo %}Noticias - DinoNews{% endblock %}

{% block contenido %}
    <h1>Noticias Recientes</h1>
    
    <!-- Listado din√°mico de noticias desde la base de datos -->
    <section class="noticias-section">
        {% if noticias %}
            <p class="noticias-count">Se encontraron {{ noticias.count }} noticia{{ noticias.count|pluralize }}.</p>
            <div class="noticias-list">
                {% for noticia in noticias %}
                    <article class="noticia-item">
                        <div class="noticia-header">
                            <h2 class="noticia-titulo">{{ noticia.titulo }}</h2>
                            <span class="noticia-fecha">
                                üìÖ {{ noticia.fecha_publicacion|date:"d \d\e F \d\e Y" }}
                            </span>
                        </div>
                        <div class="noticia-contenido">
                            <p>{{ noticia.texto|truncatewords:50 }}</p>
                            <a href="#" class="leer-mas">Leer m√°s...</a>
                        </div>
                    </article>
                {% endfor %}
            </div>
        {% else %}
            <div class="no-noticias">
                <p>No hay noticias disponibles en este momento.</p>
                <p>Por favor, vuelve m√°s tarde o prop√≥n una nueva noticia a trav√©s de nuestro 
                   <a href="{% url 'formulario' %}">formulario</a>.
                </p>
            </div>
        {% endif %}
    </section>
{% endblock %}
